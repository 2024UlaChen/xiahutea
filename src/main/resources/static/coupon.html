<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>夏虎茶</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"> -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="assets/images/favicon.png"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="assets/css/font-awesome.min.css" />

    <link rel="stylesheet" href="assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="assets/css/animate.min.css" />
    <link rel="stylesheet" href="assets/css/jquery-ui.css" />
    <link rel="stylesheet" href="assets/css/slick.css" />
    <link rel="stylesheet" href="assets/css/chosen.min.css" />
    <link rel="stylesheet" href="assets/css/pe-icon-7-stroke.css" />
    <link rel="stylesheet" href="assets/css/magnific-popup.min.css" />
    <link rel="stylesheet" href="assets/css/lightbox.min.css" />
    <link
      rel="stylesheet"
      href="assets/js/fancybox/source/jquery.fancybox.css"
    />
    <link rel="stylesheet" href="assets/css/jquery.scrollbar.min.css" />
    <link rel="stylesheet" href="assets/css/mobile-menu.css" />
    <link rel="stylesheet" href="assets/fonts/flaticon/flaticon.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="css/general.css" />
    <link rel="stylesheet" href="css/member.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/k.css" />
    <style>
      /* .b-example-divider {
  height: 3rem;
  background-color: rgba(0, 0, 0, .1);
  border: solid rgba(0, 0, 0, .15);
  border-width: 1px 0;
  box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
}

.bi {
  vertical-align: -.125em;
  fill: currentColor;
}

 */

      /* .icon-square {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 3rem;
  height: 3rem;
  font-size: 1.5rem;
  border-radius: .75rem;
} */

      /* .rounded-4 { border-radius: .5rem; }
.rounded-5 { border-radius: 1rem; } */
    </style>
  </head>
  <body>
    <header class="header style2">
      <div class="top-bar">
        <div class="container">
          <div class="row">
            
              <div class="col-lg-3">
                <div class="header-message">
                  <h1>夏虎茶</h1>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="query-bar">
                  <a href="#">
                    <i class="fa fa-search" aria-hidden="true"></i>
                  </a>
                  <input
                    type="text"
                    placeholder="搜尋品牌、門市或商品"
                    name=""
                    id=""
                  />
                  <a href="#">
                    <span>
                      <i class="fa fa-times" aria-hidden="true"></i>
                    </span>
                  </a>
                </div>
              </div>
              <div class="col-lg-3">
                <ul class="header-user-links top-bar-right">
                  <li>
                    <a href="#">
                      <span>
                        <i class="fa fa-book" aria-hidden="true"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <span>
                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <span>
                        <i class="fa fa-bell" aria-hidden="true"></i>
                      </span>
                    </a>
                  </li>
                  <li class="teamo-dropdown block-account">
                    <a href="#" data-teamo="teamo-dropdown">
                      <span>
                        <i class="fa fa-user-circle" aria-hidden="true"></i>
                      </span>
                    </a>
                    <ul class="teamo-submenu" id="query-member">
                      <li class="switcher-option">
                        <div class="account-list row">
                          <div class="col-lg-12 no-padding">
                            <div class="col-sm-4">
                              <img
                                src="assets/images/xiahutealogo.jpg"
                                alt="userPhoto"
                              />
                            </div>
                            <div class="col-lg-8">
                              <span>userName</span>
                              <span>userAccount</span>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li class="switcher-option">
                        <a href="memberSetting.html">
                          <span> 帳號設定 </span>
                        </a>
                      </li>
                      <li class="switcher-option">
                        <a href="loyaltyCard.html">
                          <span> 會員卡 </span>
                        </a>
                      </li>
                      <li class="switcher-option">
                        <a href="coupon.html">
                          <span> 我的券夾 </span>
                        </a>
                      </li>
                      <hr />
                      <li class="switcher-option">
                        <a href="orderList.html">
                          <span> 訂單管理 </span>
                        </a>
                      </li>
                      <li class="switcher-option">
                        <a href="orderDispute.html">
                          <span> 意見回饋 </span>
                        </a>
                      </li>
                      <li class="switcher-option">
                        <a href="faq.html">
                          <span> 常見問題 </span>
                        </a>
                      </li>
                      <hr />
                      <li class="switcher-option">
                        <a href="#">
                          <span> 登出 </span>
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            
          </div>
        </div>
      </div>
    </header>

    <div class="Container m-5">
      <h3 style="font-weight: 800">優惠券專區</h3>
      <div class="row KunSpeedSearch">
        <div class="col-8">
          <a href="homePage.html" style="text-underline-offset: 5px">回首頁</a>
        </div>
        <div class="col"></div>
      </div>

      <div class="container px-4 py-5" id="custom-cards">
        <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5" id="coupon-list">
          <div class="col" data-bs-toggle="modal" data-bs-target=".exampleModal">
            <div
              class="card card-cover h-100 overflow-hidden text-dark bg-dark rounded-5 shadow-lg"
              style="background-image: url('https://hkdesignpro.com/wp-content/uploads/%E5%BE%BD%E7%AB%A0LOGO-1024x595.jpg'); background-size: cover; background-position: center; "
            >
              <div
                class="d-flex flex-column h-100 p-5 pb-3 text-dark text-shadow-1"
              >
                <h2 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold">
                  註冊優惠券
                </h2>
                <ul class="d-flex list-unstyled mt-auto">
                  <li class="me-auto">
                    <img
                      src="https://github.com/twbs.png"
                      alt="Bootstrap"
                      width="32"
                      height="32"
                      class="rounded-circle border border-white"
                    />
                  </li>
                  <li class="d-flex align-items-center me-3">
                    <svg class="bi me-2" width="1em" height="1em">
                      <use xlink:href="#geo-fill"></use>
                    </svg>
                    <small>數量:1</small>
                  </li>
                  <li class="d-flex align-items-center">
                    <svg class="bi me-2" width="1em" height="1em">
                      <use xlink:href="#calendar3"></use>
                    </svg>
                    <small>有效期:NULL</small>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Modal -->
        <div
        class="modal fade exampleModal"
        
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">優惠券說明1111</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>折抵十元</p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                關閉
              </button>
              
            </div>
          </div>
        </div>
      </div>
        

          <div class="col" data-bs-toggle="modal" data-bs-target=".exampleModal">
            <div
              class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg"
              style="background-image: url('https://hkdesignpro.com/wp-content/uploads/%E5%BE%BD%E7%AB%A0LOGO-1024x595.jpg'); background-size: cover; background-position: center;"
            >
              <div class="d-flex flex-column h-100 p-5 pb-3 text-dark text-shadow-1">
                <h2 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold">折價券</h2>
                <ul class="d-flex list-unstyled mt-auto">
                  <li class="me-auto">
                    <img
                      src="https://github.com/twbs.png"
                      alt="Bootstrap"
                      width="32"
                      height="32"
                      class="rounded-circle border border-white"
                    />
                  </li>
                  <li class="d-flex align-items-center me-3">
                    <svg class="bi me-2" width="1em" height="1em">
                      <use xlink:href="#geo-fill"></use>
                    </svg>
                    <small>數量:0</small>
                  </li>
                  <li class="d-flex align-items-center">
                    <svg class="bi me-2" width="1em" height="1em">
                      <use xlink:href="#calendar3"></use>
                    </svg>
                    <small>有效期:NULL</small>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row align-items-md-stretch">
        <div class="col-md-6">
          <div class="h-100 p-5 text-white bg-dark rounded-3">
            <h2 style="color: whitesmoke">有夏虎茶真好，快來瞭解我們吧</h2>

            <a href="faq.html" class="btn btn-outline-light" type="button"
              >快速上手</a
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="h-100 p-5 bg-light border rounded-3">
            <h2>有夏虎茶真好，快來加入我們吧</h2>

            <a
              href="joinUs.html"
              class="btn btn-outline-secondary"
              type="button"
              >手刀報名</a
            >
          </div>
        </div>
      </div>
      <!--招商-->
    </div>
    <footer class="footer style7">
      <div class="container">
        <div class="container-wapper no-padding">
          <div class="row">
            <div class="box-footer col-xs-12 col-sm-4 col-md-4 col-lg-4">
              <div class="teamo-custommenu default">
                <ul class="menu">
                  <li class="menu-item">
                    <h3>夏虎茶</h3>
                  </li>
                  <li class="menu-item">
                    <a href="#">公司資訊：雲仲資訊股份有限公司</a>
                  </li>
                  <li class="menu-item">
                    <a href="#">統一編號：58364751 </a>
                  </li>
                </ul>
              </div>
            </div>
            <div
              class="box-footer col-xs-12 col-sm-4 col-md-4 col-lg-4 hidden-xs"
            ></div>
            <div class="box-footer col-xs-12 col-sm-4 col-md-4 col-lg-4">
              <div class="teamo-custommenu default">
                <ul class="menu">
                  <li class="menu-item">
                    <a href="#">常見問題</a>
                  </li>
                  <li class="menu-item">
                    <a href="#">隱私權條款</a>
                  </li>
                  <li class="menu-item">
                    <a href="#">意見回饋</a>
                  </li>
                  <li class="menu-item">
                    <a href="#">使用者條款</a>
                  </li>
                  <li class="menu-item">
                    <a href="#">信用卡條款</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="footer-end">
            <div class="row">
              <div class="col-sm-12 col-xs-12">
                <div class="teamo-socials">
                  <ul class="socials">
                    <li>
                      <a href="#" class="social-item" target="_blank">
                        <i class="fa-brands fa-facebook"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="social-item" target="_blank">
                        <i class="fa-brands fa-twitter"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="social-item" target="_blank">
                        <i class="fa-brands fa-instagram"></i>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="coppyright">
                  © 2024 XiaHuTea 台灣 . All rights reserved
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src="assets/js/jquery-1.12.4.min.js"></script>
    <script src="assets/js/jquery.plugin-countdown.min.js"></script>
    <script src="assets/js/jquery-countdown.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="assets/js/magnific-popup.min.js"></script>
    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/jquery.scrollbar.min.js"></script>
    <script src="assets/js/jquery-ui.min.js"></script>
    <script src="assets/js/mobile-menu.js"></script>
    <script src="assets/js/chosen.min.js"></script>
    <script src="assets/js/slick.js"></script>
    <script src="assets/js/jquery.elevateZoom.min.js"></script>
    <script src="assets/js/jquery.actual.min.js"></script>
    <script src="assets/js/fancybox/source/jquery.fancybox.js"></script>
    <script src="assets/js/lightbox.min.js"></script>
    <script src="assets/js/owl.thumbs.min.js"></script>
    <script src="assets/js/jquery.scrollbar.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC3nDHy1dARR-Pa_2jjPCjvsOR4bcILYsM"></script>
    <script src="assets/js/frontend-plugin.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>


  <script>
    document.addEventListener('DOMContentLoaded',function (){

      //取得登入
      $.ajax({
        url:"/coupon/list",
        method:'GET',
        dataType:"json",
        contentType: 'application/json',
        success:function (couponsData){
          console.log(couponsData);
          if(couponsData === null){
            location.href = 'login.html';
          }
          //清空
          $('#coupon-list').empty();
          couponsData.forEach(function (row){
            let str = `
<div class="col" data-bs-toggle="modal" data-bs-target="#exampleModal${row.customerCouponsId}">
            <div
              class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg"
              style=" background-image: url('img/xiahutealogo.jpg'); background-size: contain; background-position: center;"
            >
              <div class="d-flex flex-column h-100 p-5 pb-3 text-dark text-shadow-1">
                <h2 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold">${row.coupon.couponName}</h2>
                <ul class="d-flex list-unstyled mt-auto">
                  <li class="me-auto">
                    <img
                      src="https://github.com/twbs.png"
                      alt="Bootstrap"
                      width="32"
                      height="32"
                      class="rounded-circle border border-white"
                    />
                  </li>
                  <li class="d-flex align-items-center me-3">
                    <svg class="bi me-2" width="1em" height="1em">
                      <use xlink:href="#geo-fill"></use>
                    </svg>
                    <small>數量:${row.couponQuantity}</small>
                  </li>
                  <li class="d-flex align-items-center">
                    <svg class="bi me-2" width="1em" height="1em">
                      <use xlink:href="#calendar3"></use>
                    </svg>
                    <small>有效期:${row.coupon.expiredDate}</small>
                  </li>
                </ul>
              </div>
            </div>
          </div>
   <div
        class="modal fade"
        id="exampleModal${row.customerCouponsId}"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">${row.coupon.couponRule}</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>折抵${row.coupon.discount}元</p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                關閉
              </button>

            </div>
          </div>
        </div>
      </div>
`;
            document.querySelector('#coupon-list').insertAdjacentHTML('afterbegin',str);

          });
        },
        err:function (data){
          console.log(data);
          console.log('gg');
        }

      });






    });//DOM End
  </script>
  </body>
</html>
